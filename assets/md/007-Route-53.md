* [Return to table of contents](../../README.md)
# Route 53
## Introduction
- Amazon Route 53 is a comprehensive and fully-managed DNS web service
  provided by AWS; **_it is an authoritative DNS service, meaning that users have
  full control over updating and managing their DNS records_** (this includes
  configurations for A records, CNAME records, MX records, and more).
- A highly available, scalable, fully
  managed and Authoritative DNS 
  - Authoritative = the customer (we) can update the DNS records.
  - Route 53 is also a Domain Registrar.
  - Ability to **_check the health_** of your resources
  - The only AWS service which provides 100% availability SLA
  - it distributes DNS
    queries across multiple locations globally, ensuring low-latency responses
    and high availability

## Route 53 Services
- **_Domain name registration_**. We use Route 53 to register the domain name 
  for your website or application. After you choose a domain name and it is verified,
  the domain name is registered with Route 53. Route 53 DNS records can also be linked 
  to an existing domain. When a domain has been registered with Route 53,
  Route 53 becomes the DNS service for the domain and creates a hosted zone for the domain.
- **_DNS resolution_**.  Route 53 routes Internet traffic to the resources for our domain:
  - Public-facing resources. A [public hosted zone](#public-hosted-zone) is required for public-facing resources such as a company website.
  - Private-facing resources. [Private hosted zones](#private-hosted-zone) are created to route traffic within a VPC.
- **_Health checks_**: Automated health checks can be delivered on a persistent schedule 
  to cloud services and resources to confirm they are still available and functioning (working). 
  When resources become unavailable, Route 53 routes requests from unhealthy resources to healthy resources.
  - **The health of resources**: Health checks can monitor selected endpoints based on their DNS name, 
    IP address, or domain name to verify whether resources are reachable and functioning.
    Humble Bundle Pearson Networking and Security Certification Bundle – © Pearson. Do Not Distribute.
    350 AWS Certified Solutions Architect – Associate (SAA-C03) Cert Guide
  - **The status of other health checks**: Health checks can monitor multiple regional workloads to ensure 
    that healthy resources are available across AWS regions or resources located on other public clouds or on premises.
  - **The status of CloudWatch alarms**: Route 53 can monitor the same metrics being monitored by CloudWatch 
    and make decisions without needing to communicate directly with the CloudWatch service.


## Records
- Route 53 supports the following DNS record types:
  - (must know)A /AAAA / CNAME / [NS](006-DNS-Introduction.md#ns-record)
  - (advanced)CAA / DS / MX / NAPTR / PTR / [SOA](006-DNS-Introduction.md#soa-record) / TXT / SPF / SRV

- Each record contains:
  - Domain / subdomain Name – e.g., example.com
  - Record Type – e.g., A or AAAA
  - Value – e.g., 12.34.56.78
  - Routing Policy – how Route 53 responds to queries
  - [TTL](#ttl-time-to-live) – amount of time the record is cached at DNS Resolvers

## Hosted zone
- A hosted zone is similar to a traditional [DNS zone file](006-DNS-Introduction.md#zone-file). It represents a container to collect DNS records 
  that can be managed together ,belonging to a single parent domain name. All the DNS record sets 
  within a hosted zone share the same parent domain name. It means that all the DNS records within a 
  hosted zone share the same parent domain name. It means that all the DNS records within a
  hosted zone must have the hosted zone's domain name as a suffix. 
- Each hosted zone has two records: 
  - A name server ([**NS**](006-DNS-Introduction.md#ns-record)) record 
  - The start of authority ([**SOA**](006-DNS-Introduction.md#soa-record)) record.
- We pay $0.50 per month per hosted zone.

### Public hosted zone
- Contains DNS records involving public domain names & public-facing resources such as a company website.
  These are domain names that are accessible and resolvable globally on the public Internet.

![](../images/route-53-public-hosted-zone.svg)

### Private hosted zone
- Contains DNS records involving private domain names & resources within one or more VPCs.
  These domain names are not accessible from the public Internet and are used
  for internal communication within an organization’s network.

![](../images/route-53-private-hosted-zone.svg)

## TTL (time to live)
- The Time-to-Live ([TTL](#ttl-time-to-live)) value in DNS records plays a crucial role in how DNS
caching and record updates are handled. The choice of [TTL](#ttl-time-to-live) depends on the
specific requirements and trade-offs between reducing traffic, minimizing
outdated records, and the need for quick updates.
- **_High [TTL](#ttl-time-to-live)_** – e.g., 24 hr
  - Less traffic on Route 53 and lower costs.
  - Possibly outdated records (slow propagation) when changes are made to DNS records. 
- **_Low [TTL](#ttl-time-to-live)_** – e.g., 60 sec.
  - More traffic on Route 53 ($$) and increased costs.
  - Records are outdated for less time ensuring that changes to DNS records are
    propagated quickly.
  - Easy to change records.
- Except for [Alias](#alias-records) records, TTL is mandatory for each DNS record

## Alias records
- Maps a hostname (domain or subdomain) to an AWS
  resource, such as an Elastic Load Balancer (ELB), CloudFront distribution, or an
  S3 bucket extending the traditional DNS functionality by allowing seamless
  mapping to AWS resources without the need for manual updates.
- Automatically recognizes changes in the AWS resource’s IP addresses
- Unlike CNAME, **Alias** works for both root and non-root domains. 
  It can be used for the top node (top level domain) of a DNS namespace (Zone Apex), 
  e.g.: example.com
- **Alias Record** is always of type A / AAAA for AWS resources (IPv4 / IPv6)
- We cannot set the [TTL](#ttl-time-to-live).
- Provides native health checks.
- Free of charge.
- **Alias records** cannot be directly used for EC2 instances DNS names.
- Targets:
  - ELB
  - CloudFront
  - S3 Websites
  - Amazon API Gateway
  - Elastic Beanstalk
  - VPC interface endpoints
  - Global Accelerator
  - Route 53 record.

  ![](../images/route-53-alias-record-target.svg)

## Routing policies
- When Route 53 receives a query, a routing policy determines the response.

### Simple

### Weighted

### Failover

### Latency based

### Geolocation

### Multi-Value Answer

### Geoproximity (using Route 53 Traffic Flow feature)


## Health checks

### Monitor an Endpoint
### Calculated Health Checks
### Private Hosted Zones